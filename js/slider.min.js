function displaySpeakVariants(){var a=document.getElementById("speakVariants");"block"!=a.style.display?a.style.display="block":a.style.display="none"}function displayKeyboardOptions(){var a=document.getElementById("keyboardVariants");"block"!=a.style.display?a.style.display="block":a.style.display="none"}function helpVideo(){document.getElementById("help-video").style.display="block"}function closeHelp(){document.getElementById("help-video").style.display="none"}function saveSettings(){var a=document.getElementById("setContrastValue").getAttribute("aria-valuenow"),b=document.getElementById("setSaturationValue").getAttribute("aria-valuenow"),c=document.getElementById("setSpeedValue").getAttribute("aria-valuenow"),d=document.querySelector('input[name="magnificationValue"]:checked').value,e=document.getElementById("setInvert").checked,f=document.getElementById("setGrayscale").checked,g=document.getElementById("setMeSpeak").checked,h=document.getElementById("setKeyboard").checked,i=document.querySelector('input[name="colorScheme"]:checked').value,j=document.querySelector('input[name="set screen reader variant"]:checked').value,l=document.querySelector('input[name="set keyboard options"]:checked').value,m=document.getElementById("setSpeakAllText").checked,n={};if(n.contrast=setCookie("contrast",a,1,""),n.saturation=setCookie("saturation",b,1,""),n.magnification=setCookie("magnification",d,1,""),n.isInvert=setCookie("isInvert",e,1,""),n.isGrayscale=setCookie("isGrayscale",f,1,""),n.isMeSpeak=setCookie("isMeSpeak",g,1,""),n.isKeyboard=setCookie("isKeyboard",h,1,""),n.keyboardVariant=setCookie("keyboardVariant",l,1,""),n.style=setCookie("style",i,1,""),n.mespeak_speed=setCookie("mespeak_speed",c,1,""),n.mespeak_variant=setCookie("mespeak_variant",j,1,""),n.isSpeakAllText=setCookie("isSpeakAllText",m,1,""),document.getElementById("userLoginId")){var o=document.getElementById("userLoginId").getAttribute("value"),p={};p.userPrefLoginId=o,p.userPrefGroupTypeId="GLOBAL_PREFERENCES";var q=0;$.each(document.cookie.split(/; */),function(){var a=this.split("=");void 0!=n[a[0]]&&(p["userPrefTypeId_o_"+q]=a[0],p["userPrefValue_o_"+q]=a[1],q++)}),jQuery.ajax({async:!0,type:"post",url:"setUserPreferenceAjax",data:p,success:function(a){for(key in a)if(key.indexOf("userPrefMap_o_")>-1)for(k in a[key])setCookie(k,a[key][k],1,"")}})}$("#accessibility-notification").show(),setTimeout(function(){$("#accessibility-notification").hide()},3e3)}function setDefault(){var a=document.getElementById("body");void 0!==document.getElementById("setInvert")&&null!==document.getElementById("setInvert")&&(document.getElementById("setInvert").checked=!1),void 0!==document.getElementById("setGrayscale")&&null!==document.getElementById("setGrayscale")&&(document.getElementById("setGrayscale").checked=!1),void 0!==document.getElementById("setMeSpeak")&&null!==document.getElementById("setMeSpeak")&&(document.getElementById("setMeSpeak").checked=!1),void 0!==document.getElementById("setKeyboard")&&null!==document.getElementById("setKeyboard")&&(document.getElementById("setKeyboard").checked=!1),void 0!==document.getElementById("setSpeakAllText")&&null!==document.getElementById("setSpeakAllText")&&(document.getElementById("setSpeakAllText").checked=!1),void 0!==document.getElementById("grayOnWhite")&&null!==document.getElementById("grayOnWhite")&&(document.getElementById("grayOnWhite").checked=!0),a.style.WebkitFilter="saturate(100%) contrast(100%) grayscale(0%) invert(0%)",void 0!==document.getElementById("grayOnWhite")&&null!==document.getElementById("grayOnWhite")&&(document.querySelector('input[id="mag-100"]').checked=!0),a.style.zoom="100%",void 0!==document.getElementById("setVoice")&&null!==document.getElementById("setVoice")&&(document.querySelector('input[id="en_voice"]').checked=!0),void 0!==document.getElementById("setVariant")&&null!==document.getElementById("setVariant")&&(document.querySelector('input[id="key1_var"]').checked=!0),void 0!==document.getElementById("setKeyboardVariant")&&null!==document.getElementById("setKeyboardVariant")&&(document.querySelector('input[id="key1_var"]').checked=!1,document.querySelector('input[id="key2_var"]').checked=!1);var b=document.getElementsByClassName("aria-widget-slider");[].forEach.call(b,function(a){if(a){var b=new aria.widget.slider(a);b.valueNow=100,b.updateThumbPosition()}}),switchColorScheme(""),setCookie("contrast",100,1,""),setCookie("saturation",100,1,""),setCookie("magnification",100,1,""),setCookie("isInvert",!1,1,""),setCookie("isGrayscale",!1,1,""),setCookie("isMeSpeak",!1,1,""),setCookie("isKeyboard",!1,1,""),setCookie("style","grayOnWhite",""),setCookie("mespeak_speed",100,1,""),setCookie("mespeak_variant","m1",1,""),setCookie("keyboardVariant","key1",1,""),setCookie("isSpeakAllText",!1,1,"")}function switchColorScheme(a){for(var b=0,c=document.getElementsByTagName("link");b<c.length;b++)c[b].rel.indexOf("stylesheet")!=-1&&c[b].title&&(c[b].disabled=!0,c[b].title==a&&(c[b].disabled=!1))}function setStyleFromCookie(){switchColorScheme(getCookie("style"));var a=invertValue=0;void 0!==document.getElementById(getCookie("style"))&&null!==document.getElementById(getCookie("style"))&&(document.getElementById(getCookie("style")).checked=!0),void 0!==document.getElementById("mag-"+getCookie("magnification"))&&null!==document.getElementById("mag-"+getCookie("magnification"))?document.getElementById("mag-"+getCookie("magnification")).checked=!0:document.getElementById("mag-100")&&(document.getElementById("mag-100").checked=!0),void 0!==document.getElementById(getCookie("setInvert"))&&null!==document.getElementById("setInvert")&&"true"==getCookie("isInvert")&&document.getElementById("setInvert").setAttribute("checked","checked"),void 0!==document.getElementById(getCookie("setGrayscale"))&&null!==document.getElementById("setGrayscale")&&"true"==getCookie("isGrayscale")&&document.getElementById("setGrayscale").setAttribute("checked","checked"),void 0!==document.getElementById("setMeSpeak")&&null!==document.getElementById("setMeSpeak")&&"true"==getCookie("isMeSpeak")&&document.getElementById("setMeSpeak").setAttribute("checked","checked"),void 0!==document.getElementById("setKeyboard")&&null!==document.getElementById("setKeyboard")&&"true"==getCookie("isKeyboard")&&document.getElementById("setKeyboard").setAttribute("checked","checked"),void 0!==document.getElementById("setSpeakAllText")&&null!==document.getElementById("setSpeakAllText")&&"true"==getCookie("isSpeakAllText")&&document.getElementById("setSpeakAllText").setAttribute("checked","checked");var b=document.getElementById("body");if(b&&("true"==getCookie("isInvert")&&(invertValue=100),"true"==getCookie("isGrayscale")&&(a=100),b.style.WebkitFilter="saturate("+getCookie("saturation")+"%) contrast("+getCookie("contrast")+"%) grayscale("+a+"%) invert("+invertValue+"%)",b.style.filter="saturate("+getCookie("saturation")+"%) contrast("+getCookie("contrast")+"%) grayscale("+a+"%) invert("+invertValue+"%)",b.style.zoom=getCookie("magnification")+"%"),document.getElementById("setContrastValue")){document.getElementById("setContrastValue").setAttribute("aria-valuenow",getCookie("contrast"));var c=document.getElementById("setContrastValue").parentNode.parentNode;if(c){var d=new aria.widget.slider(c);d.initSlider()}}if(document.getElementById("setSaturationValue")){document.getElementById("setSaturationValue").setAttribute("aria-valuenow",getCookie("saturation"));var c=document.getElementById("setSaturationValue").parentNode.parentNode;if(c){var d=new aria.widget.slider(c);d.initSlider()}}if(document.getElementById("setSpeedValue")){document.getElementById("setSpeedValue").setAttribute("aria-valuenow",getCookie("mespeak_speed"));var c=document.getElementById("setSpeedValue").parentNode.parentNode;if(c){var d=new aria.widget.slider(c);d.initSlider()}}void 0!==document.getElementById(getCookie("mespeak_variant")+"_var")&&null!==document.getElementById(getCookie("mespeak_variant")+"_var")?document.getElementById(getCookie("mespeak_variant")+"_var").checked=!0:document.getElementById("m1_var")&&(document.getElementById("m1_var").checked=!0),void 0!==document.getElementById(getCookie("keyboardVariant")+"_var")&&null!==document.getElementById(getCookie("keyboardVariant")+"_var")?document.getElementById(getCookie("keyboardVariant")+"_var").checked=!0:(document.getElementById("key1_var")&&(document.getElementById("key1_var").checked=!0),document.getElementById("key2_var")&&(document.getElementById("key2_var").checked=!1)),getCookie("magnification")&&(document.getElementsByName("mag-"+getCookie("magnification")).checked=!0)}function setCookiesFromUserPreferences(){if(document.getElementById("userLoginId")){var a=document.getElementById("userLoginId").getAttribute("value"),b={};b.userPrefLoginId=a,b.userPrefGroupTypeId="GLOBAL_PREFERENCES";var c=["style","contrast","saturation","magnification","isInvert","isGrayscale","isMeSpeak","isKeyboard","mespeak_speed","mespeak_variant","isSpeakAllText","keyboardVariant"];$.each(c,function(a,c){b["userPrefTypeId_o_"+a]=c}),jQuery.ajax({async:!0,type:"post",url:"getUserPreferenceAjax",data:b,success:function(a){for(key in a)if(key.indexOf("userPrefMap_o_")>-1)for(k in a[key])setCookie(k,a[key][k],1,"")}}).done(function(){setStyleFromCookie()})}if(setStyleFromCookie(),null!=document.getElementById("speakVariants")){var d=getCookie("isMeSpeak");"false"==d?document.getElementById("speakVariants").style.display="none":document.getElementById("speakVariants").style.display="block"}if(null!=document.getElementById("setKeyboard")){var e=getCookie("isKeyboard");"false"==e?document.getElementById("keyboardVariants").style.display="none":document.getElementById("keyboardVariants").style.display="block"}}function setCookie(a,b,c,d){var e=d?"; domain="+d:"";return document.cookie=a+"="+encodeURIComponent(b)+"; max-age="+86400*c+"; path=/"+e,b}function getCookie(a){var b=new RegExp(a+"=([^;]+)"),c=b.exec(document.cookie);return null!=c?unescape(c[1]):null}var aria=aria||{};if(aria.widget=aria.widget||{},aria.widget.slider=function(a,b,c,d){if(this.keyCode=Object.freeze({pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40}),this.done=!0,"object"!=typeof a||!a.getElementsByClassName)return!1;this.container=a;var e=a.getElementsByClassName("rail");if(!e)return!1;this.rail=e[0];var f=a.getElementsByClassName("thumb");if(!f)return!1;this.thumb=f[0];var g=a.getElementsByClassName("value");return!!g&&(this.value=g[0],this.value.innerHTML="0",this.thumbHeight=30,this.thumbWidth=30,"number"!=typeof d&&(d=window.getComputedStyle(this.rail).getPropertyValue("width"),"string"==typeof d&&d.length>2&&(d=parseInt(d.slice(0,-2)))),"number"==typeof d?this.sliderWidth=d:this.sliderWidth=200,this.sliderWidth<50&&(this.sliderWidth=50),"number"!=typeof b&&(b=1),"number"!=typeof c&&(c=10),this.valueInc=b,this.valueJump=c,"Number"==typeof height&&(this.sliderHeight=height),"Number"==typeof d&&(this.sliderWidth=d),this.valueMin=parseInt(this.thumb.getAttribute("aria-valuemin")),isNaN(this.valueMin)&&(this.valueMin=0),this.valueMax=parseInt(this.thumb.getAttribute("aria-valuemax")),isNaN(this.valueMax)&&(this.valueMax=100),this.valueNow=parseInt(this.thumb.getAttribute("aria-valuenow")),isNaN(this.valueNow)&&(this.valueNow=Math.round((this.valueMax-this.valueMin)/2)),this.thumb.setAttribute("role","slider"),this.thumb.setAttribute("aria-valuenow",this.valueNow),this.thumb.setAttribute("aria-valuemin",this.valueMin),this.thumb.setAttribute("aria-valuemax",this.valueMax),this.thumb.tabIndex=0,void(this.thumb.innerHTML=""))},aria.widget.slider.prototype.initSlider=function(){this.rail.style.height="3px",this.rail.style.width=this.sliderWidth+"px",this.thumb.style.height=this.thumbHeight+"px",this.thumb.style.width=this.thumbWidth+"px",this.thumb.style.top=-1*this.thumbHeight/2+"px",this.value.style.top=this.rail.offsetTop-this.value.offsetHeight/2+2+"px",this.value.style.left=this.rail.offsetLeft+this.rail.offsetWidth+5+"px",this.rangeLeftPos=this.rail.offsetLeft;var a=this,b=function(b){a.eventKeyDown(b,a)},c=function(b){a.eventMouseDown(b,a)},d=function(b){a.eventFocus(b,a)},e=function(b){a.eventBlur(b,a)};this.thumb.addEventListener("keydown",b),this.thumb.addEventListener("mousedown",c),this.thumb.addEventListener("focus",d),this.thumb.addEventListener("blur",e);var f=function(b){a.eventClick(b,a)};this.rail.addEventListener("click",f),this.updateThumbPosition()},aria.widget.slider.prototype.updateThumbPosition=function(){this.valueNow>this.valueMax&&(this.valueNow=this.valueMax),this.valueNow<this.valueMin&&(this.valueNow=this.valueMin),this.thumb.setAttribute("aria-valuenow",this.valueNow);var a=Math.round(this.valueNow*this.sliderWidth/(this.valueMax-this.valueMin))-this.thumbWidth/2;this.thumb.style.left=a+"px",this.value.innerHTML=this.valueNow.toString()+"%",aria.widget.slider.updateAccessability()},aria.widget.slider.prototype.eventKeyDown=function(a,b){function c(c){b.valueNow=c,b.updateThumbPosition(),a.preventDefault(),a.stopPropagation()}switch(a.keyCode){case b.keyCode.left:case b.keyCode.down:c(b.valueNow-b.valueInc);break;case b.keyCode.right:case b.keyCode.up:c(b.valueNow+b.valueInc);break;case b.keyCode.pageDown:c(b.valueNow-b.valueJump);break;case b.keyCode.pageUp:c(b.valueNow+b.valueJump);break;case b.keyCode.home:c(b.valueMin);break;case b.keyCode.end:c(b.valueMax)}},aria.widget.slider.prototype.eventMouseDown=function(a,b){if(a.target===b.thumb){a.target.focus();var c=function(a){b.eventMouseMove(a,b)};b.mouseMove=c;var d=function(a){b.eventMouseUp(a,b)};b.mouseUp=d,document.addEventListener("mousemove",b.mouseMove),document.addEventListener("mouseup",b.mouseUp),a.preventDefault(),a.stopPropagation()}},aria.widget.slider.prototype.eventMouseMove=function(a,b){var c=b.rail.getBoundingClientRect().left,d=a.pageX-c;b.valueNow=parseInt((b.valueMax-b.valueMin)*d/b.sliderWidth),b.updateThumbPosition(),a.preventDefault(),a.stopPropagation()},aria.widget.slider.prototype.eventMouseUp=function(a,b){document.removeEventListener("mousemove",b.mouseMove),document.removeEventListener("mouseup",b.mouseUp),a.preventDefault(),a.stopPropagation()},aria.widget.slider.prototype.eventClick=function(a,b){if(a.target!==b.thumb){var c=a.pageX-b.rail.offsetLeft;b.valueNow=parseInt((b.valueMax-b.valueMin)*c/b.sliderWidth),b.updateThumbPosition(),a.preventDefault(),a.stopPropagation()}},aria.widget.slider.prototype.eventFocus=function(a,b){b.container.className="aria-widget-slider focus",a.preventDefault(),a.stopPropagation()},aria.widget.slider.prototype.eventBlur=function(a,b){b.container.className="aria-widget-slider",a.preventDefault(),a.stopPropagation()},aria.widget.slider.updateAccessability=function(){function a(){return document.getElementById("setSaturationValue").getAttribute("aria-valuenow")}function b(){return document.getElementById("setContrastValue").getAttribute("aria-valuenow")}function c(){return document.getElementById("setGrayscale").checked?100:0}function d(){return document.getElementById("setInvert").checked?100:0}function e(){if(document.querySelector('input[name="magnificationValue"]:checked'))return document.querySelector('input[name="magnificationValue"]:checked').value}var f=document.getElementById("body");f&&(f.style.WebkitFilter="saturate("+a()+"%) contrast("+b()+"%) grayscale("+c()+"%) invert("+d()+"%)",f.style.filter="saturate("+a()+"%) contrast("+b()+"%) grayscale("+c()+"%) invert("+d()+"%)",f.style.zoom=e()+"%")},getCookie("style")||getCookie("contrast")||getCookie("saturation")||getCookie("magnification")||getCookie("isGrayscale")||getCookie("isMeSpeak")||getCookie("isInvert")||getCookie("mespeak_speed")||getCookie("mespeak_variant")||getCookie("isSpeakAllText")||getCookie("isKeyboard")||getCookie("keyboardVariant"))setCookiesFromUserPreferences();else{var sliders=document.getElementsByClassName("aria-widget-slider");[].forEach.call(sliders,function(a){if(a&&!a.done){var b=new aria.widget.slider(a);b.initSlider()}}),setDefault()}